(function(t){function e(e){for(var a,l,s=e[0],o=e[1],c=e[2],u=0,h=[];u<s.length;u++)l=s[u],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&h.push(r[l][0]),r[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,l=1;l<n.length;l++){var o=n[l];0!==r[o]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},i=[];function l(t){return s.p+"js/"+({icons:"icons"}[t]||t)+"."+{icons:"bd0b443c"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=l(t);var c=new Error;i=function(e){o.onerror=o.onload=null,clearTimeout(u);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",c.name="ChunkLoadError",c.type=a,c.request=i,n[1](c)}r[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:o})}),12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"45d3":function(t,e,n){},"568e":function(t,e,n){var a={"./breastFeeding.svg":"c578","./crawling.svg":"f1cd","./smiling.svg":"3f1c","./standing.svg":"1b70"};function r(t){return i(t).then(n)}function i(t){return n.e("icons").then((function(){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}))}r.keys=function(){return Object.keys(a)},r.resolve=i,r.id="568e",t.exports=r},a7c7:function(t,e,n){"use strict";n("45d3")},cd49:function(t,e,n){"use strict";n.r(e);var a=n("1da1"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("7a23")),i=(n("99af"),n("b0c0"),["viewBox"]),l=Object(r["h"])('<filter id="dropShadow" x="-30%" y="-30%" width="160%" height="160%"><feColorMatrix type="matrix" in="SourceAlpha" values="1 0 0 0 0 \n                    0 1 0 0 0 \n                    0 0 1 0 0 \n                    0 0 0 100 0" result="boostedInput"></feColorMatrix><feGaussianBlur in="boostedInput" stdDeviation="0.7" result="blur"></feGaussianBlur><feOffset in="blur" dx="1" dy="1" result="offsetBlur"></feOffset><feFlood flood-opacity="0.8" result="offsetColor"></feFlood><feComposite in="offsetColor" in2="offsetBlur" operator="in" result="blurResult"></feComposite><feMerge result="sourceAndBlur"><feMergeNode in="blurResult"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter><filter id="darken"><feColorMatrix type="matrix" values="0.3 0.1 0.1 0 0 \n                    0.1 0.3 0.1 0 0 \n                    0.1 0.1 0.3 0 0 \n                    0 0 0 1 0"></feColorMatrix></filter><linearGradient id="linearGradient" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0" class="gradientStart"></stop><stop offset="1" class="gradientEnd"></stop></linearGradient><mask id="linearMask" maskContentUnits="objectBoundingBox"><rect x="0" y="0" width="1" height="1" fill="url(#linearGradient)"></rect></mask>',4),s=["id","height","width"],o=Object(r["h"])('<pattern id="fabricPattern" patternUnits="userSpaceOnUse" width="200" height="200"><image href="fabric.jpg" width="200" height="200"></image></pattern><filter id="colorizeBackground"><feFlood result="color"></feFlood><feComposite in="SourceGraphic" in2="color" operator="arithmetic" k1="0" k2="0.5" k3="1" k4="0"></feComposite></filter><pattern id="ridges" patternUnits="userSpaceOnUse" width="2" height="10" patternTransform="scale(1 1)"><line x1="1" x2="1" y1="0" y2="10" stroke-width="1" stroke="black"></line></pattern><filter id="reflectionBlur"><feGaussianBlur in="SourceGraphic" stdDeviation="7"></feGaussianBlur></filter><pattern id="reflections" patternUnits="userSpaceOnUse" width="10" height="10" patternTransform="rotate(30) scale(7)"><line x1="5" x2="5" y1="0" y2="10" stroke-width="5" stroke="white"></line></pattern>',5),c=["x","y","width","height"],u={class:"grid"},d=["r","id"],h={transform:"rotate(-5)"},f=["x"],g={class:"drawing",ref:"drawingGroup",filter:"url(#dropShadow)"},b=["onClick","id","transform","clip-path"],m=["id"],p=["href","x","y"],v=["href","x","y"],y=["x","width","y","height"],k=["x1","x2","y1","y2"],O=["x","width","y","height"],j=["x","width","y","height"],x=["transform"],w=["id"],R=["href","y","stroke-width"],M=["mask"],S=["x"],B=["href","x","y"],C=["x1","x2","y1","y2"],P=["x1","x2","y1","y2"],L=["href","x","y"],I={class:"sidebar"},W={key:0,class:"list"},T=["onClick"],E={key:1,class:"details"},G={class:"notes"},A={class:"reference"},F=["href"];function N(t,e,n,a,N,D){var z=Object(r["p"])("SvgIcon");return Object(r["m"])(),Object(r["f"])("div",{id:"container",class:Object(r["l"])({skillSelected:t.selection})},[(Object(r["m"])(),Object(r["f"])("svg",{class:"graph",ref:"graphSvg",viewBox:"0 0 ".concat(t.width," ").concat(t.height)},[Object(r["g"])("defs",null,[l,(Object(r["m"])(!0),Object(r["f"])(r["a"],null,Object(r["o"])(t.skillLengths,(function(e){return Object(r["m"])(),Object(r["f"])("rect",{key:e,id:t.skillOutlineId(e),class:"skillOutline",rx:"0.5",height:t.settings.layout.skillWidth,width:e},null,8,s)})),128)),o]),Object(r["g"])("g",{class:"main",ref:"mainGroup",onClick:e[0]||(e[0]=function(e){return t.select(void 0,e)})},[Object(r["g"])("rect",{x:-t.maxCircleRadius,y:-t.maxCircleRadius,width:2*t.maxCircleRadius,height:2*t.maxCircleRadius,class:"background",fill:"url(#fabricPattern)",filter:"url(#colorizeBackground)"},null,8,c),Object(r["g"])("g",u,[(Object(r["m"])(!0),Object(r["f"])(r["a"],null,Object(r["o"])(t.gridLevels,(function(e){return Object(r["m"])(),Object(r["f"])("circle",{key:e,class:Object(r["l"])({level:!0,"level-year":!(e%12),"level-quarter":!(e%3)}),r:t.scale(e),id:"level-".concat(e)},null,10,d)})),128)),Object(r["g"])("g",h,[(Object(r["m"])(!0),Object(r["f"])(r["a"],null,Object(r["o"])(t.maxYear,(function(e){return Object(r["m"])(),Object(r["f"])("text",{key:e,class:"label",x:t.scale(12*e)+2},Object(r["r"])(e),9,f)})),128))])]),Object(r["g"])("g",g,[(Object(r["m"])(!0),Object(r["f"])(r["a"],null,Object(r["o"])(t.data.tree.links,(function(e){return Object(r["m"])(),Object(r["f"])("line",Object(r["k"])({key:"".concat(e.source.id,"-").concat(e.target.id),class:["link",e.type]},t.linkLine(e)),null,16)})),128)),(Object(r["m"])(!0),Object(r["f"])(r["a"],null,Object(r["o"])(t.data.tree.skills,(function(e){return Object(r["m"])(),Object(r["f"])("g",{key:e.id,class:"skill",onClick:function(n){return t.select(e,n)},id:e.id,transform:"rotate(".concat(e.angle,")"),"clip-path":"url(#".concat(e.id,"-clipOuter)")},[Object(r["g"])("title",null,Object(r["r"])(t.tooltipTitle(e)),1),Object(r["g"])("clipPath",{id:"".concat(e.id,"-clipOuter")},[Object(r["g"])("use",{href:"#".concat(t.skillOutlineId(e.roundedLength)),x:e.barRanges.total.start,y:-t.settings.layout.skillWidth/2},null,8,p)],8,m),Object(r["g"])("g",null,[Object(r["g"])("use",{href:"#".concat(t.skillOutlineId(e.roundedLength)),class:"skillBoxBackground",x:e.barRanges.total.start,y:-t.settings.layout.skillWidth/2},null,8,v),e.barRanges.main?(Object(r["m"])(),Object(r["f"])("rect",{key:0,class:"skillBox skillBoxMain",x:e.barRanges.main.start,width:e.barRanges.main.length,y:-t.settings.layout.skillWidth/2,height:t.settings.layout.skillWidth},null,8,y)):Object(r["e"])("",!0),e.barRanges.start||e.barRanges.end?Object(r["e"])("",!0):(Object(r["m"])(),Object(r["f"])("line",{key:1,class:"skillLine",x1:e.barRanges.total.start,x2:e.barRanges.total.start,y1:-t.settings.layout.skillWidth/2,y2:t.settings.layout.skillWidth/2},null,8,k)),e.barRanges.start?(Object(r["m"])(),Object(r["f"])("rect",{key:2,class:"skillBox skillBoxStart",x:e.barRanges.start.start,width:e.barRanges.start.length,y:-t.settings.layout.skillWidth/2,height:t.settings.layout.skillWidth,fill:"url(#linearGradient)"},null,8,O)):Object(r["e"])("",!0),e.barRanges.end?(Object(r["m"])(),Object(r["f"])("rect",{key:3,class:"skillBox skillBoxEnd",x:e.barRanges.end.start,width:e.barRanges.end.length,y:-t.settings.layout.skillWidth/2,height:t.settings.layout.skillWidth,fill:"url(#linearGradient)"},null,8,j)):Object(r["e"])("",!0)]),Object(r["g"])("g",{transform:t.innerTransform(e),class:Object(r["l"])({skillInner:!0,reversed:e.reversed})},[Object(r["g"])("mask",{id:"".concat(e.id,"-maskInner"),maskUnits:"objectBoundingBox"},[Object(r["g"])("use",{href:"#".concat(t.skillOutlineId(e.roundedLength)),class:"skillBoxInner",y:-t.settings.layout.skillWidth/2,"stroke-width":2*t.settings.layout.skillMargin},null,8,R)],8,w),e.icon&&e.iconDetails?(Object(r["m"])(),Object(r["d"])(z,Object(r["k"])({key:0,class:"skillIcon",icon:e.icon},t.iconAttributes(e)),null,16,["icon"])):Object(r["e"])("",!0),Object(r["g"])("g",{mask:"url(#".concat(e.id,"-maskInner)")},[Object(r["g"])("text",{x:t.settings.layout.skillMargin+(e.icon?t.innerHeight:0),class:"name"},[Object(r["g"])("tspan",null,Object(r["r"])(e.name),1)],8,S)],8,M)],10,x),Object(r["g"])("use",{href:"#".concat(t.skillOutlineId(e.roundedLength)),class:"skillBoxTexture",fill:"url(#ridges)",x:e.barRanges.total.start,y:-t.settings.layout.skillWidth/2},null,8,B),Object(r["g"])("line",{class:"ribbonEdge",x1:e.barRanges.total.start,x2:e.barRanges.total.end,y1:-t.settings.layout.skillWidth/2+1.5,y2:-t.settings.layout.skillWidth/2+1.5},null,8,C),Object(r["g"])("line",{class:"ribbonEdge",x1:e.barRanges.total.start,x2:e.barRanges.total.end,y1:t.settings.layout.skillWidth/2-1.5,y2:t.settings.layout.skillWidth/2-1.5},null,8,P),Object(r["g"])("use",{href:"#".concat(t.skillOutlineId(e.roundedLength)),class:"skillBoxLighting",fill:"url(#reflections)",filter:"url(#reflectionBlur)",x:e.barRanges.total.start,y:-t.settings.layout.skillWidth/2},null,8,L)],8,b)})),128))],512)],512)],8,i)),Object(r["g"])("div",I,[t.selection?(Object(r["m"])(),Object(r["f"])("div",E,[Object(r["g"])("h3",null,Object(r["r"])(t.selection.name),1),Object(r["g"])("p",G,Object(r["r"])(t.selection.notes),1),Object(r["g"])("p",A,[Object(r["g"])("a",{href:t.selection.reference},Object(r["r"])(t.selection.reference),9,F)])])):(Object(r["m"])(),Object(r["f"])("div",W,[(Object(r["m"])(!0),Object(r["f"])(r["a"],null,Object(r["o"])(t.data.tree.skills,(function(e){return Object(r["m"])(),Object(r["f"])("h3",{key:e.id,onClick:function(n){return t.select(e,n)}},Object(r["r"])(e.name),9,T)})),128))]))])],2)}var D=n("5530"),z=(n("d3b7"),n("25f0"),n("4de4"),n("d81d"),n("cb29"),n("6062"),n("3ca3"),n("ddb0"),n("07ac"),n("159b"),n("ac1f"),n("5319"),n("d4ec")),q=n("bee2"),U=function(){function t(e,n){Object(z["a"])(this,t),this[0]=e,this[1]=n}return Object(q["a"])(t,[{key:"rel",value:function(e){return new t(this[0]-e[0],this[1]-e[1])}},{key:"toPolar",value:function(){return new t(Math.sqrt(this[0]*this[0]+this[1]*this[1]),Math.atan2(this[1],this[0]))}},{key:"fromPolar",value:function(){return new t(Math.cos(this[1])*this[0],Math.sin(this[1])*this[0])}},{key:"radialAlign",value:function(){var t=this.toPolar(),e=360*t[1]/2/Math.PI;return e>0?e-90:e-270}},{key:"fromLocal",value:function(e,n){var a=n.getBoundingClientRect(),r=e.getScreenCTM();if(!r)throw new Error("Could not get matrix.");return new t(this[0]/r.a+this[1]/r.c-r.e+a.left,this[0]/r.b+this[1]/r.d-r.f+a.top)}},{key:"toLocal",value:function(e,n){var a=n.getBoundingClientRect(),r=e.getScreenCTM();if(!r)throw new Error("Could not get matrix.");return new t(r.a*this[0]+r.c*this[1]+r.e-a.left,r.b*this[0]+r.d*this[1]+r.f-a.top)}},{key:"toString",value:function(){return this[0]+","+this[1]}}],[{key:"fromPolar",value:function(e,n){return new t(Math.cos(n)*e,Math.sin(n)*e)}}]),t}(),_=(n("4ec9"),{dataPath:"https://docs.google.com/spreadsheets/d/e/2PACX-1vT1vy5dt1_l8HA4YzuLgVlxHk9PKBoixjhq2nienetjJx9RhxKt8WYYmyG6kWaFsh6hQqKlDjoVY0d1/pub?gid=0&single=true&output=csv",layout:{minSkillLength:45,centerRadius:12,width:1e3,skillWidth:20,skillMargin:2,initialCount:4},rings:{lastMonthly:24,lastQuarterly:48},icons:new Map([["standing",{license:"https://creativecommons.org/licenses/by/4.0/",source:'<a href="fontawesome.io">Dave Gandy</a>'}],["breastFeeding",{license:"Public Domain",source:'<a href="https://thenounproject.com/edward">Edward Boatman from Noun Project</a>',notes:"Removed fill color from original."}],["crawling",{license:"Creative Commons",source:'<a href="https://thenounproject.com/budhishakti17">Ragal Kartidev from Noun Project</a>'}],["smiling",{license:'<a href="https://www.freepikcompany.com/legal?&_ga=2.246028932.1853393565.1629660833-2034462439.1629502450#nav-flaticon">Flaticon</a>',source:'<a href="https://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>'}]])}),H=n("898b");function Y(t,e,n,a,i,l){return Object(r["m"])(),Object(r["d"])(Object(r["q"])(t.dynamicIcon))}var K=Object(r["j"])({name:"DynamicIcon",props:{icon:{type:String,required:!0}},computed:{dynamicIcon:function(){var t=this;return Object(r["i"])((function(){return n("568e")("./".concat(t.icon,".svg"))}))}}});K.render=Y;var Q=K,J=Object(r["j"])({components:{SvgIcon:Q},setup:function(t){var e=Object(r["n"])(),n=Object(r["n"])(),a=Object(r["n"])();function i(t){var e,a;console.log("Transform: ".concat(t.toString())),isNaN(t.x)||isNaN(t.y)||isNaN(t.k)||(null===(e=n.value)||void 0===e||e.setAttribute("transform",t.toString()),null===(a=n.value)||void 0===a||a.classList.toggle("detailed",t.k>4))}var l=Object(r["b"])((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.clientWidth)&&void 0!==t?t:0})),s=Object(r["b"])((function(){var t,n;return null!==(t=null===(n=e.value)||void 0===n?void 0:n.clientHeight)&&void 0!==t?t:0})),o=Object(r["b"])((function(){return t.data.tree.scale(t.data.tree.skillRange[1])})),c=Object(r["b"])((function(){var t=o.value*Math.SQRT2;return l.value&&s.value&&(t*=Math.max(l.value/s.value,s.value/l.value)),t}));return{graphSvg:e,mainGroup:n,drawingGroup:a,scale:t.data.tree.scale,settings:_,zoom:H["d"]().on("zoom",(function(t){i(t.transform)})),width:l,height:s,drawingRadius:o,maxCircleRadius:c}},props:{data:{type:Object,required:!0}},data:function(){return{selection:void 0}},computed:{gridLevels:function(){return Array(Math.floor(this.scale.invert(this.maxCircleRadius))).fill(0).map((function(t,e){return e})).filter((function(t,e){return!(e%12&&e>_.rings.lastQuarterly)&&!(e%12&&e%3&&e>_.rings.lastMonthly)}))},maxYear:function(){return Math.floor(this.data.tree.skillRange[1]/12)},skillLengths:function(){return new Set(Object.values(this.data.tree.skills).map((function(t){return t.roundedLength})))},innerHeight:function(){return _.layout.skillWidth-2*_.layout.skillMargin}},mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.graphSvg&&(Object(H["c"])(t.graphSvg).call(t.zoom),t.zoomFit(!1));case 1:case"end":return e.stop()}}),e)})))()},methods:{tooltipTitle:function(t){var e="".concat(t.name,": ");if(t.actualEnd!==t.start){var n=this.formatTime(t.start),a=this.formatTime(t.actualEnd);n.unit!==a.unit?e+="".concat(n.format," - ").concat(a.format):e+="".concat(n.number," - ").concat(a.number," ").concat(n.unit).concat(this.plural(a.number))}else e+=this.formatTime(t.start).format;return e},formatTime:function(t){var e={number:t,unit:"month"};return t%12===0&&(e.number=t/12,e.unit="year"),0==t?(e.unit=void 0,Object(D["a"])(Object(D["a"])({},e),{},{format:"birth"})):Object(D["a"])(Object(D["a"])({},e),{},{format:"".concat(e.number," ").concat(e.unit).concat(this.plural(e.number))})},plural:function(t){return 1===t?"":"s"},select:function(t,e){var n,a,r=this;(null===t||void 0===t?void 0:t.id)===(null===(n=this.selection)||void 0===n?void 0:n.id)?this.selection=void 0:this.selection=t,null===(a=this.graphSvg)||void 0===a||a.querySelectorAll(".skill").forEach((function(t){var e;return t.classList.toggle("selected",t.id===(null===(e=r.selection)||void 0===e?void 0:e.id))})),e.stopPropagation()},linkLine:function(t){var e=U.fromPolar(t.source.barRanges.total.end,t.source.angle*Math.PI/180),n=U.fromPolar(t.target.barRanges.total.start,t.target.angle*Math.PI/180);return{x1:e[0],x2:n[0],y1:e[1],y2:n[1]}},skillOutlineId:function(t){return"skillOutline-".concat(t.toString().replace(".","-"))},innerTransform:function(t){return t.reversed?"rotate(180) translate(".concat(-t.barRanges.total.end+_.layout.skillMargin,")"):"translate(".concat(t.barRanges.total.start+_.layout.skillMargin,")")},iconAttributes:function(t){var e=_.layout.skillWidth-2*_.layout.skillMargin,n=t.barRanges.total.length-2*_.layout.skillMargin;return{y:-e/2,x:t.reversed?n-e:0,height:e,width:e}},zoomFit:function(){var t,e,n,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.85,i=null===(t=this.drawingGroup)||void 0===t?void 0:t.getBBox(),l=null===(e=this.graphSvg)||void 0===e?void 0:e.clientWidth,s=null===(n=this.graphSvg)||void 0===n?void 0:n.clientHeight;if(!i||!l||!s)throw new Error("Nodes not found.");var o=i.width,c=i.height,u=i.x+o/2,d=i.y+c/2;if(0!=o&&0!=c){var h,f,g=r/Math.max(o/l,c/s),b=[-u,-d];if(console.debug("zoomFit",b,g),this.graphSvg)if(a)Object(H["c"])(this.graphSvg).transition().duration(750).call(this.zoom.transform,(h=H["e"].translate(l/2,s/2).scale(g)).translate.apply(h,b));else Object(H["c"])(this.graphSvg).call(this.zoom.transform,(f=H["e"].translate(l/2,s/2).scale(g)).translate.apply(f,b))}}}});n("a7c7");J.render=N;var V=J,X=n("b85c"),Z=(n("4e82"),n("fb6a"),n("1276"),n("90d7"),n("789b")),$=function(){function t(){Object(z["a"])(this,t),this.parents=[],this.children=[],this.nodeType="Skill"}return Object(q["a"])(t,[{key:"actualEnd",get:function(){var t,e,n;return null!==(t=null!==(e=null!==(n=this.maxEnd)&&void 0!==n?n:this.end)&&void 0!==e?e:this.maxStart)&&void 0!==t?t:this.start}},{key:"roundedLength",get:function(){return Math.round(100*this.barRanges.total.length)/100}},{key:"reversed",get:function(){return(this.angle+90)%360>180}},{key:"getIconDetails",value:function(){this.icon&&(this.iconDetails=_.icons.get(this.icon))}},{key:"toString",value:function(){return"Skill: ".concat(this.name," (").concat(this.id,")\n  ").concat(this.type,"\n  ").concat(this.start," - ").concat(this.actualEnd)}},{key:"makeBarRange",value:function(t,e,n){return{start:t(e),length:t(n)-t(e),end:t(n)}}},{key:"setRanges",value:function(t){var e,n=this.actualEnd;(t(n)-t(this.start)<_.layout.minSkillLength&&(n=t.invert(t(this.start)+_.layout.minSkillLength)),this.barRanges={total:this.makeBarRange(t,this.start,n)},this.end)&&(this.barRanges.main=this.makeBarRange(t,null!==(e=this.maxStart)&&void 0!==e?e:this.start,this.end));this.maxStart&&(this.barRanges.start=this.makeBarRange(t,this.start,this.maxStart)),this.maxEnd&&this.end&&(this.barRanges.end=this.makeBarRange(t,this.end,this.maxEnd))}}],[{key:"arc",value:function(t,e,n,a){if(t%360<=180){var r=[e,t];t=r[0],e=r[1]}var i=e-t;i+=i>180?-360:i<-180?360:0;var l=Math.abs(i)>180?1:0,s=i>0?1:0,o=a(n);return"M"+new U(o,t*Math.PI/180).fromPolar().toString()+"A"+o+","+o+" 0 "+l+","+s+" "+new U(o,e*Math.PI/180).fromPolar().toString()}}]),t}(),tt=function(){function t(){Object(z["a"])(this,t)}return Object(q["a"])(t,[{key:"parseData",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H["b"](e,(function(t,e,n){return Object.assign(new $,H["a"](t,e,n))}));case 2:n=t.sent,this.tree=new et(n),this.tree.nodeList=Object.values(this.tree.skills);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),et=function(){function t(e){var n=this;Object(z["a"])(this,t),this.skills={},this.links=[],this.nodeList=[],this.types=new Map,this.lanes=new Map;var a=e.slice().sort((function(t,e){return t.start-e.start})),r=new Set(a.map((function(t){return t.type}))),i=r.size;this.skillRange=a.reduce((function(t,e){return[Math.min(t[0],e.start),Math.max(t[1],e.actualEnd)]}),[a[0].start,0]),this.scale=Object(Z["a"])().domain([0,this.skillRange[1]]).range([_.layout.centerRadius,_.layout.width/2]).exponent(.5);var l,s=Object(X["a"])(a);try{var o=function(){var t=l.value;if(t.setRanges(n.scale),t.icon&&t.getIconDetails(),t.prerequisites){t.parents=t.prerequisites.split(",").map((function(e){return{source:n.skills[e],target:t}}));var e,a=Object(X["a"])(t.parents);try{for(a.s();!(e=a.n()).done;){var r=e.value;n.links.push(r),r.source.children.push(r)}}catch(o){a.e(o)}finally{a.f()}t.angle=t.parents[0].source.angle}var s=n.types.get(t.type);s?void 0===t.angle&&(t.angle=s[0].angle):(void 0===t.angle&&(t.angle=360/i*n.types.size),s=[],n.types.set(t.type,s)),n.addToLane(t),s.push(t),n.skills[t.id]=t};for(s.s();!(l=s.n()).done;)o()}catch(c){s.e(c)}finally{s.f()}}return Object(q["a"])(t,[{key:"addToLane",value:function(t){var e,n=this.lanesAtRadius(t.barRanges.total.start).sort((function(e,n){var a=Math.abs(e-t.angle),r=Math.abs(n-t.angle);return a-r})),a=Object(X["a"])(n);try{for(a.s();!(e=a.n()).done;){var r=e.value,i=this.lanes.get(r);if(i||(i=[],this.lanes.set(r,i)),!i.length||i[i.length-1].barRanges.total.end+_.layout.skillMargin<=t.barRanges.total.start)return t.angle=r,i.push(t),void console.log("Added ".concat(t.id," to ").concat(t.angle,"."))}}catch(l){a.e(l)}finally{a.f()}console.warn("Could not find an open lane for skill: ".concat(t,"."))}},{key:"closest",value:function(t,e){return e.reduce((function(e,n){var a=Math.abs(e-t),r=Math.abs(n-t);return a==r?e>n?e:n:r<a?n:e}))}},{key:"lanesAtRadius",value:function(t){var e=Math.floor(2*Math.PI*t/(_.layout.skillWidth+_.layout.skillMargin)),n=Math.max(0,Math.floor(Math.log2(e)-Math.log2(_.layout.initialCount))),a=_.layout.initialCount*Math.pow(2,n);return Array(a).fill(0).map((function(t,e){return 360*e/a}))}}]),t}();Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new tt,t.next=3,e.parseData(_.dataPath);case 3:Object(r["c"])(V,{data:e}).mount("#app");case 4:case"end":return t.stop()}}),t)})))()}});
//# sourceMappingURL=app.03ce87a2.js.map