{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4bf5","webpack:///./src/icons lazy-once ^\\.\\/.*\\.svg$ namespace object","webpack:///./src/App.vue","webpack:///./src/ts/model/Pt.ts","webpack:///./src/ts/settings.ts","webpack:///./src/components/SvgIcon.vue","webpack:///./src/components/SvgIcon.vue?0931","webpack:///./src/components/SvgIcon.vue?e0d3","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/ts/model/Skill.ts","webpack:///./src/ts/model/Data.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","map","webpackAsyncContext","req","webpackAsyncContextResolve","then","code","keys","id","class","transform","ref","filter","selection","viewBox","width","height","skillLengths","skillOutlineId","rx","settings","layout","skillWidth","select","$event","x","maxCircleRadius","y","fill","gridLevels","scale","maxYear","tree","links","link","source","linkLine","skills","skill","angle","clip-path","tooltipTitle","href","roundedLength","barRanges","total","start","main","end","x1","x2","y1","y2","innerTransform","reversed","maskUnits","stroke-width","skillMargin","icon","iconDetails","iconAttributes","mask","notes","reference","this","origin","Pt","Math","sqrt","atan2","cos","sin","polarPt","toPolar","a","PI","elem","doc","offset","getBoundingClientRect","matrix","getScreenCTM","left","b","f","top","theta","dataPath","minSkillLength","centerRadius","initialCount","rings","lastMonthly","lastQuarterly","icons","Map","license","dynamicIcon","props","String","required","computed","render","components","SvgIcon","setup","graphSvg","mainGroup","drawingGroup","setZoom","log","toString","isNaN","k","classList","toggle","clientWidth","clientHeight","drawingRadius","skillRange","radius","SQRT2","max","zoom","on","Array","floor","invert","_","Set","values","innerHeight","mounted","zoomFit","methods","title","actualEnd","formatTime","unit","format","number","plural","time","num","querySelectorAll","forEach","stopPropagation","fromPolar","replace","animate","paddingPercent","bounds","getBBox","fullWidth","fullHeight","midX","midY","translate","debug","transition","duration","parents","children","nodeType","maxEnd","maxStart","round","visualEnd","makeBarRange","dTheta","largeArc","abs","sweep","csvFile","rawRow","index","columns","assign","nodeList","types","lanes","sortedSkills","sort","typeNames","typesCount","size","reduce","prev","curr","min","domain","range","exponent","setRanges","getIconDetails","prerequisites","split","prereq","set","addToLane","laneAngles","lanesAtRadius","aDiff","bDiff","lane","warn","needle","haystack","maxCount","ring","log2","count","pow","v","parseData","App","mount"],"mappings":"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","file":"js/app.db3ba792.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"icons\":\"icons\"}[chunkId]||chunkId) + \".\" + {\"icons\":\"bd0b443c\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=573f2f47&lang=scss\"","var map = {\n\t\"./breastFeeding.svg\": \"c578\",\n\t\"./crawling.svg\": \"f1cd\",\n\t\"./smiling.svg\": \"3f1c\",\n\t\"./standing.svg\": \"1b70\"\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(__webpack_require__);\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn __webpack_require__.e(/* lazy-once context | icons */ \"icons\").then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = \"568e\";\nmodule.exports = webpackAsyncContext;","<template>\n  <div id=\"container\" :class=\"{ skillSelected: selection }\">\n    <svg class=\"graph\" ref=\"graphSvg\" :viewBox=\"`0 0 ${width} ${height}`\">\n      <defs>\n        <filter id=\"dropShadow\" x=\"-30%\" y=\"-30%\" width=\"160%\" height=\"160%\">\n          <feColorMatrix\n            type=\"matrix\"\n            in=\"SourceAlpha\"\n            values=\"1 0 0 0 0 \n                    0 1 0 0 0 \n                    0 0 1 0 0 \n                    0 0 0 100 0\"\n            result=\"boostedInput\"\n          />\n          <feGaussianBlur\n            in=\"boostedInput\"\n            stdDeviation=\"0.7\"\n            result=\"blur\"\n          ></feGaussianBlur>\n          <feOffset in=\"blur\" dx=\"1\" dy=\"1\" result=\"offsetBlur\"></feOffset>\n          <feFlood flood-opacity=\"0.8\" result=\"offsetColor\"></feFlood>\n          <feComposite\n            in=\"offsetColor\"\n            in2=\"offsetBlur\"\n            operator=\"in\"\n            result=\"blurResult\"\n          ></feComposite>\n          <feMerge result=\"sourceAndBlur\">\n            <feMergeNode in=\"blurResult\" />\n            <feMergeNode in=\"SourceGraphic\" />\n          </feMerge>\n        </filter>\n\n        <filter id=\"darken\">\n          <feColorMatrix\n            type=\"matrix\"\n            values=\"0.3 0.1 0.1 0 0 \n                    0.1 0.3 0.1 0 0 \n                    0.1 0.1 0.3 0 0 \n                    0 0 0 1 0\"\n          ></feColorMatrix>\n        </filter>\n        <linearGradient id=\"linearGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0\" class=\"gradientStart\"></stop>\n          <stop offset=\"1\" class=\"gradientEnd\"></stop>\n        </linearGradient>\n        <mask id=\"linearMask\" maskContentUnits=\"objectBoundingBox\">\n          <rect x=\"0\" y=\"0\" width=\"1\" height=\"1\" fill=\"url(#linearGradient)\" />\n        </mask>\n        <rect\n          v-for=\"length of skillLengths\"\n          :key=\"length\"\n          :id=\"skillOutlineId(length)\"\n          class=\"skillOutline\"\n          rx=\"0.5\"\n          :height=\"settings.layout.skillWidth\"\n          :width=\"length\"\n        ></rect>\n\n        <rect\n          v-for=\"length of skillLengths\"\n          :key=\"length\"\n          :id=\"`${skillOutlineId(length)}-icon`\"\n          class=\"skillOutline\"\n          rx=\"0.5\"\n          :height=\"settings.layout.skillWidth\"\n          :width=\"\n            length - settings.layout.skillWidth + settings.layout.skillMargin\n          \"\n        ></rect>\n\n        <pattern\n          id=\"fabricPattern\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"200\"\n          height=\"200\"\n        >\n          <image href=\"fabric.jpg\" width=\"200\" height=\"200\" />\n        </pattern>\n\n        <filter id=\"colorizeBackground\">\n          <feFlood result=\"color\"></feFlood>\n\n          <feComposite\n            in=\"SourceGraphic\"\n            in2=\"color\"\n            operator=\"arithmetic\"\n            k1=\"0\"\n            k2=\"0.5\"\n            k3=\"1\"\n            k4=\"0\"\n          />\n        </filter>\n\n        <pattern\n          id=\"ridges\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"2\"\n          height=\"10\"\n          patternTransform=\"scale(1 1)\"\n        >\n          <line x1=\"1\" x2=\"1\" y1=\"0\" y2=\"10\" stroke-width=\"1\" stroke=\"black\" />\n        </pattern>\n\n        <filter id=\"reflectionBlur\">\n          <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"7\"></feGaussianBlur>\n        </filter>\n\n        <pattern\n          id=\"reflections\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"10\"\n          height=\"10\"\n          patternTransform=\"rotate(30) scale(7)\"\n        >\n          <line x1=\"5\" x2=\"5\" y1=\"0\" y2=\"10\" stroke-width=\"5\" stroke=\"white\" />\n        </pattern>\n      </defs>\n      <g class=\"main\" ref=\"mainGroup\" @click=\"select(undefined, $event)\">\n        <rect\n          :x=\"-maxCircleRadius\"\n          :y=\"-maxCircleRadius\"\n          :width=\"2 * maxCircleRadius\"\n          :height=\"2 * maxCircleRadius\"\n          class=\"background\"\n          fill=\"url(#fabricPattern)\"\n          filter=\"url(#colorizeBackground)\"\n        ></rect>\n        <g class=\"grid\">\n          <circle\n            v-for=\"i of gridLevels\"\n            :key=\"i\"\n            :class=\"{\n              level: true,\n              'level-year': !(i % 12),\n              'level-quarter': !(i % 3),\n            }\"\n            :r=\"scale(i)\"\n            :id=\"`level-${i}`\"\n          />\n          <g transform=\"rotate(-5)\">\n            <text\n              v-for=\"i of maxYear\"\n              :key=\"i\"\n              class=\"label\"\n              :x=\"scale(i * 12) + 2\"\n            >\n              {{ i }}\n            </text>\n          </g>\n        </g>\n        <g class=\"drawing\" ref=\"drawingGroup\" filter=\"url(#dropShadow)\">\n          <line\n            v-for=\"link of data.tree.links\"\n            :key=\"`${link.source.id}-${link.target.id}`\"\n            :class=\"['link', link.type]\"\n            v-bind=\"linkLine(link)\"\n          />\n\n          <g\n            v-for=\"skill of data.tree.skills\"\n            :key=\"skill.id\"\n            class=\"skill\"\n            @click=\"select(skill, $event)\"\n            :id=\"skill.id\"\n            :transform=\"`rotate(${skill.angle})`\"\n            :clip-path=\"`url(#${skill.id}-clipOuter)`\"\n          >\n            <title>{{ tooltipTitle(skill) }}</title>\n            <clipPath :id=\"`${skill.id}-clipOuter`\">\n              <use\n                :href=\"`#${skillOutlineId(skill.roundedLength)}`\"\n                :x=\"skill.barRanges.total.start\"\n                :y=\"-settings.layout.skillWidth / 2\"\n              />\n            </clipPath>\n\n            <g>\n              <use\n                :href=\"`#${skillOutlineId(skill.roundedLength)}`\"\n                class=\"skillBoxBackground\"\n                :x=\"skill.barRanges.total.start\"\n                :y=\"-settings.layout.skillWidth / 2\"\n              />\n\n              <rect\n                v-if=\"skill.barRanges.main\"\n                class=\"skillBox skillBoxMain\"\n                :x=\"skill.barRanges.main.start\"\n                :width=\"skill.barRanges.main.length\"\n                :y=\"-settings.layout.skillWidth / 2\"\n                :height=\"settings.layout.skillWidth\"\n              />\n\n              <line\n                v-if=\"!skill.barRanges.start && !skill.barRanges.end\"\n                class=\"skillLine\"\n                :x1=\"skill.barRanges.total.start\"\n                :x2=\"skill.barRanges.total.start\"\n                :y1=\"-settings.layout.skillWidth / 2\"\n                :y2=\"settings.layout.skillWidth / 2\"\n              />\n\n              <rect\n                v-if=\"skill.barRanges.start\"\n                class=\"skillBox skillBoxStart\"\n                :x=\"skill.barRanges.start.start\"\n                :width=\"skill.barRanges.start.length\"\n                :y=\"-settings.layout.skillWidth / 2\"\n                :height=\"settings.layout.skillWidth\"\n                fill=\"url(#linearGradient)\"\n              />\n\n              <rect\n                v-if=\"skill.barRanges.end\"\n                class=\"skillBox skillBoxEnd\"\n                :x=\"skill.barRanges.end.start\"\n                :width=\"skill.barRanges.end.length\"\n                :y=\"-settings.layout.skillWidth / 2\"\n                :height=\"settings.layout.skillWidth\"\n                fill=\"url(#linearGradient)\"\n              />\n            </g>\n\n            <g\n              :transform=\"innerTransform(skill)\"\n              :class=\"{ skillInner: true, reversed: skill.reversed }\"\n            >\n              <mask :id=\"`${skill.id}-maskInner`\" maskUnits=\"objectBoundingBox\">\n                <use\n                  :href=\"`#${skillOutlineId(skill.roundedLength)}${\n                    skill.icon ? '-icon' : ''\n                  }`\"\n                  class=\"skillBoxInner\"\n                  :x=\"\n                    skill.icon && !skill.reversed\n                      ? settings.layout.skillWidth - settings.layout.skillMargin\n                      : 0\n                  \"\n                  :y=\"-settings.layout.skillWidth / 2\"\n                  :stroke-width=\"settings.layout.skillMargin * 2\"\n                />\n              </mask>\n\n              <SvgIcon\n                v-if=\"skill.icon && skill.iconDetails\"\n                class=\"skillIcon\"\n                :icon=\"skill.icon\"\n                v-bind=\"iconAttributes(skill)\"\n              />\n\n              <g :mask=\"`url(#${skill.id}-maskInner)`\">\n                <text\n                  :x=\"\n                    settings.layout.skillMargin\n                    + (skill.icon && !skill.reversed\n                      ? innerHeight + settings.layout.skillMargin\n                      : 3)\n                  \"\n                  class=\"name\"\n                >\n                  {{ skill.name }}\n                </text>\n              </g>\n            </g>\n\n            <use\n              :href=\"`#${skillOutlineId(skill.roundedLength)}`\"\n              class=\"skillBoxTexture\"\n              fill=\"url(#ridges)\"\n              :x=\"skill.barRanges.total.start\"\n              :y=\"-settings.layout.skillWidth / 2\"\n            />\n\n            <line\n              class=\"ribbonEdge\"\n              :x1=\"skill.barRanges.total.start\"\n              :x2=\"skill.barRanges.total.end\"\n              :y1=\"-settings.layout.skillWidth / 2 + 1.5\"\n              :y2=\"-settings.layout.skillWidth / 2 + 1.5\"\n            />\n\n            <line\n              class=\"ribbonEdge\"\n              :x1=\"skill.barRanges.total.start\"\n              :x2=\"skill.barRanges.total.end\"\n              :y1=\"settings.layout.skillWidth / 2 - 1.5\"\n              :y2=\"settings.layout.skillWidth / 2 - 1.5\"\n            />\n\n            <use\n              :href=\"`#${skillOutlineId(skill.roundedLength)}`\"\n              class=\"skillBoxLighting\"\n              fill=\"url(#reflections)\"\n              filter=\"url(#reflectionBlur)\"\n              :x=\"skill.barRanges.total.start\"\n              :y=\"-settings.layout.skillWidth / 2\"\n            />\n          </g>\n        </g>\n      </g>\n    </svg>\n    <div class=\"sidebar\">\n      <div v-if=\"!selection\" class=\"list\">\n        <h3\n          v-for=\"skill of data.tree.skills\"\n          :key=\"skill.id\"\n          @click=\"select(skill, $event)\"\n        >\n          {{ skill.name }}\n        </h3>\n      </div>\n      <div class=\"details\" v-else>\n        <h3>\n          {{ selection.name }}\n        </h3>\n        <p class=\"notes\">{{ selection.notes }}</p>\n        <p class=\"reference\">\n          <a :href=\"selection.reference\">{{ selection.reference }}</a>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { computed, defineComponent, PropType, ref } from 'vue';\nimport { Data } from './ts/model/Data';\nimport { Link } from './ts/model/Link';\nimport Pt from './ts/model/Pt';\nimport { Skill } from './ts/model/Skill';\nimport { settings } from './ts/settings';\nimport * as d3 from 'd3';\nimport { D3ZoomEvent, select } from 'd3';\nimport SvgIcon from './components/SvgIcon.vue';\n\nexport default defineComponent({\n  components: { SvgIcon },\n  setup(props) {\n    const graphSvg = ref<SVGSVGElement>();\n\n    const mainGroup = ref<SVGGElement>();\n    const drawingGroup = ref<SVGGElement>();\n\n    function setZoom(transform: d3.ZoomTransform): void {\n      console.log(`Transform: ${transform.toString()}`);\n\n      if (isNaN(transform.x) || isNaN(transform.y) || isNaN(transform.k)) {\n        return;\n      }\n\n      mainGroup.value?.setAttribute('transform', transform.toString());\n\n      mainGroup.value?.classList.toggle('detailed', transform.k > 4);\n    }\n\n    const width = computed(() => graphSvg.value?.clientWidth ?? 0);\n\n    const height = computed(() => graphSvg.value?.clientHeight ?? 0);\n\n    const drawingRadius = computed(() =>\n      props.data.tree.scale(props.data.tree.skillRange[1])\n    );\n\n    const maxCircleRadius = computed(() => {\n      let radius = drawingRadius.value * Math.SQRT2;\n\n      if (width.value && height.value) {\n        radius *= Math.max(\n          width.value / height.value,\n          height.value / width.value\n        );\n      }\n\n      return radius;\n    });\n\n    return {\n      graphSvg,\n      mainGroup,\n      drawingGroup,\n      scale: props.data.tree.scale,\n      settings,\n      zoom: d3\n        .zoom<SVGSVGElement, unknown>()\n        // .scaleExtent([0.8, 6])\n        // .translateExtent([\n        //   [-drawingRadius.value, -drawingRadius.value],\n        //   [drawingRadius.value * 2, drawingRadius.value * 2],\n        // ])\n        .on('zoom', (event: D3ZoomEvent<SVGSVGElement, unknown>) => {\n          setZoom(event.transform);\n        }),\n      width,\n      height,\n      drawingRadius,\n      maxCircleRadius,\n    };\n  },\n  props: {\n    data: {\n      type: Object as PropType<Data>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selection: undefined as Skill | undefined,\n    };\n  },\n  computed: {\n    gridLevels() {\n      return Array(Math.floor(this.scale.invert(this.maxCircleRadius)))\n        .fill(0)\n        .map((_, i) => i)\n        .filter(\n          (_, i) =>\n            !(i % 12 && i > settings.rings.lastQuarterly)\n            && !(i % 12 && i % 3 && i > settings.rings.lastMonthly)\n        );\n    },\n    maxYear() {\n      return Math.floor(this.data.tree.skillRange[1] / 12);\n    },\n    skillLengths() {\n      return new Set(\n        Object.values(this.data.tree.skills).map((s) => s.roundedLength)\n      );\n    },\n    innerHeight() {\n      return settings.layout.skillWidth - 2 * settings.layout.skillMargin;\n    },\n  },\n  async mounted() {\n    if (this.graphSvg) {\n      select(this.graphSvg).call(this.zoom);\n\n      this.zoomFit(false);\n    }\n  },\n  methods: {\n    tooltipTitle(skill: Skill) {\n      let title = `${skill.name}: `;\n\n      if (skill.actualEnd !== skill.start) {\n        const start = this.formatTime(skill.start);\n        const end = this.formatTime(skill.actualEnd);\n\n        if (start.unit !== end.unit) {\n          title += `${start.format} - ${end.format}`;\n        } else {\n          title += `${start.number} - ${end.number} ${start.unit}${this.plural(\n            end.number\n          )}`;\n        }\n      } else {\n        title += this.formatTime(skill.start).format;\n      }\n\n      return title;\n    },\n    formatTime(time: number) {\n      const result = {\n        number: time,\n        unit: 'month' as string | undefined,\n      };\n\n      if (time % 12 === 0) {\n        result.number = time / 12;\n        result.unit = 'year';\n      }\n\n      if (time == 0) {\n        result.unit = undefined;\n\n        return { ...result, format: 'birth' };\n      }\n\n      return {\n        ...result,\n        format: `${result.number} ${result.unit}${this.plural(result.number)}`,\n      };\n    },\n    plural(num: number) {\n      if (num === 1) {\n        return '';\n      } else {\n        return 's';\n      }\n    },\n    select(skill: Skill | undefined, event: Event): void {\n      if (skill?.id === this.selection?.id) {\n        this.selection = undefined;\n      } else {\n        this.selection = skill;\n      }\n\n      this.graphSvg\n        ?.querySelectorAll('.skill')\n        .forEach((s) =>\n          s.classList.toggle('selected', s.id === this.selection?.id)\n        );\n\n      event.stopPropagation();\n    },\n    linkLine(link: Link) {\n      const start = Pt.fromPolar(\n        link.source.barRanges.total.end,\n        (link.source.angle * Math.PI) / 180\n      );\n      const end = Pt.fromPolar(\n        link.target.barRanges.total.start,\n        (link.target.angle * Math.PI) / 180\n      );\n\n      return {\n        x1: start[0],\n        x2: end[0],\n        y1: start[1],\n        y2: end[1],\n      };\n    },\n    skillOutlineId(length: number): string {\n      return `skillOutline-${length.toString().replace('.', '-')}`;\n    },\n    innerTransform(skill: Skill): string {\n      if (skill.reversed) {\n        return `rotate(180) translate(${-skill.barRanges.total.end})`;\n      } else {\n        return `translate(${skill.barRanges.total.start})`;\n      }\n    },\n    iconAttributes(skill: Skill) {\n      return {\n        y: -this.innerHeight / 2,\n        x: skill.reversed\n          ? skill.barRanges.total.length\n            - settings.layout.skillMargin\n            - this.innerHeight\n          : settings.layout.skillMargin,\n        height: this.innerHeight,\n        width: this.innerHeight,\n      };\n    },\n    zoomFit(animate = true, paddingPercent = 0.85): void {\n      const bounds = this.drawingGroup?.getBBox();\n      const fullWidth = this.graphSvg?.clientWidth,\n        fullHeight = this.graphSvg?.clientHeight;\n\n      if (!bounds || !fullWidth || !fullHeight) {\n        throw new Error('Nodes not found.');\n      }\n\n      const width = bounds.width,\n        height = bounds.height;\n\n      const midX = bounds.x + width / 2,\n        midY = bounds.y + height / 2;\n\n      if (width == 0 || height == 0) return; // nothing to fit\n\n      const scale =\n        paddingPercent / Math.max(width / fullWidth, height / fullHeight);\n      const translate: [number, number] = [-midX, -midY];\n\n      console.debug('zoomFit', translate, scale);\n\n      if (this.graphSvg) {\n        if (animate) {\n          select(this.graphSvg)\n            .transition()\n            .duration(750)\n            .call(\n              this.zoom.transform,\n              d3.zoomIdentity\n                .translate(fullWidth / 2, fullHeight / 2)\n                .scale(scale)\n                .translate(...translate)\n            );\n        } else {\n          select(this.graphSvg).call(\n            this.zoom.transform,\n            d3.zoomIdentity\n              .translate(fullWidth / 2, fullHeight / 2)\n              .scale(scale)\n              .translate(...translate)\n          );\n        }\n      }\n    },\n  },\n});\n</script>\n<style lang=\"scss\">\n@use \"sass:color\";\n\n$gray: #bbb;\n$grid: rgba(255, 255, 255, 0.3);\n$background: rgb(70, 92, 167);\n$skillBackground: rgb(209, 183, 38);\n$text: color.scale($skillBackground, $lightness: -60%);\n$shadow: color.scale($background, $lightness: -30%, $saturation: -30%);\n\n$uiBackground: rgb(247, 245, 234);\n$uiLine: color.scale($uiBackground, $lightness: -60%);\n\nbody {\n  margin: 0;\n}\n\n#container {\n  height: 100vh;\n  display: flex;\n  overflow: hidden;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\nsvg #colorizeBackground feFlood {\n  flood-color: $background;\n}\n\nsvg.graph {\n  flex-grow: 1;\n  font-size: 14px;\n}\n\n.sidebar {\n  width: 300px;\n  background: $uiBackground;\n  color: $uiLine;\n  padding: 8px;\n  border-left: 1px solid $uiLine;\n  box-shadow: 0 0 6px 6px rgba($color: $shadow, $alpha: 0.5);\n\n  .list h3 {\n    cursor: pointer;\n    padding: 8px 8px;\n    margin: 0;\n\n    &:hover {\n      background-color: rgba($color: #000000, $alpha: 0.1);\n    }\n  }\n\n  .details {\n    a {\n      color: $uiLine;\n      font-size: 10px;\n    }\n  }\n}\n\n.link {\n  stroke: $gray;\n}\n\ncircle.level {\n  stroke: $grid;\n  stroke-width: 0.125px;\n  fill: none;\n\n  &.level-quarter {\n    stroke-width: 0.25px;\n  }\n\n  &.level-year {\n    stroke-width: 0.75px;\n  }\n}\n\n.label {\n  font-size: 75%;\n  text-anchor: left;\n  fill: $grid;\n}\n\n.skillInner {\n  mix-blend-mode: multiply;\n  fill: $text;\n\n  .name {\n    font-weight: bold;\n    font-size: 8px;\n    dominant-baseline: middle;\n  }\n}\n\n.detailed .name {\n  font-size: 3px;\n}\n\n.skillBoxInner {\n  stroke: black;\n  fill: white;\n}\n\n.skillSelected {\n  .skill:not(.selected) {\n    filter: url(#darken);\n  }\n}\n\n.gradientStart {\n  stop-color: $skillBackground;\n  stop-opacity: 0.2;\n}\n\n.gradientEnd {\n  stop-color: $skillBackground;\n}\n\n.skillBoxStart,\n.skillBoxEnd {\n  stroke: none;\n}\n\n.skillBoxEnd {\n  transform: rotate(180deg);\n  transform-origin: center;\n  transform-box: fill-box;\n}\n\n.skillBoxMain {\n  fill: $skillBackground;\n}\n\n.skillLine {\n  stroke: $skillBackground;\n  stroke-width: 6;\n}\n\n#dropShadow {\n  feFlood {\n    flood-color: $shadow;\n    flood-opacity: 0.8;\n  }\n}\n\n.skillBoxBackground {\n  fill: $background;\n}\n\n.skillBoxTexture {\n  opacity: 0.15;\n  mix-blend-mode: multiply;\n}\n\n.skillBoxLighting {\n  opacity: 0.6;\n  mix-blend-mode: soft-light;\n}\n\n.ribbonEdge {\n  stroke-width: 0.5px;\n  stroke-opacity: 0.2;\n  mix-blend-mode: multiply;\n  stroke: black;\n  stroke-dasharray: 2.5;\n}\n\nbutton {\n  width: 100px;\n  height: 30px;\n  border-radius: 5px;\n  background: #ddd;\n  border: 1px solid #aaa;\n  text-align: center;\n  font-size: 16px;\n\n  &:hover {\n    background: #aaa;\n  }\n}\n\n.buttons {\n  margin: 0 0 10px;\n}\n</style>\n","/**\n * A small class to hold two-dimensional point arrays.\n */\nexport default class Pt {\n  0: number;\n  1: number;\n\n  constructor(x: number, y: number) {\n    this[0] = x;\n    this[1] = y;\n  }\n\n  static fromPolar(r: number, theta: number): Pt {\n    return new Pt(Math.cos(theta) * r, Math.sin(theta) * r);\n  }\n\n  rel(origin: Pt): Pt {\n    //return point relative to origin\n\n    return new Pt(this[0] - origin[0], this[1] - origin[1]);\n  }\n\n  toPolar(): Pt {\n    return new Pt(\n      Math.sqrt(this[0] * this[0] + this[1] * this[1]),\n      Math.atan2(this[1], this[0])\n    );\n  }\n\n  fromPolar(): Pt {\n    return new Pt(Math.cos(this[1]) * this[0], Math.sin(this[1]) * this[0]);\n  }\n\n  radialAlign(): number {\n    //rotate object to center, keeping it upright\n\n    const polarPt = this.toPolar(),\n      a = (polarPt[1] * 360) / 2 / Math.PI;\n\n    if (a > 0) {\n      return a - 90;\n    } else {\n      return a - 270;\n    }\n  }\n\n  fromLocal(elem: SVGGraphicsElement, doc: HTMLElement): Pt {\n    //convert local point coordinate to global\n\n    const offset = doc.getBoundingClientRect(),\n      matrix = elem.getScreenCTM();\n\n    if (!matrix) {\n      throw new Error('Could not get matrix.');\n    }\n\n    return new Pt(\n      this[0] / matrix.a + this[1] / matrix.c - matrix.e + offset.left,\n      this[0] / matrix.b + this[1] / matrix.d - matrix.f + offset.top\n    );\n  }\n\n  toLocal(elem: SVGGraphicsElement, doc: HTMLElement): Pt {\n    //convert global point coordinate to local\n\n    const offset = doc.getBoundingClientRect(),\n      matrix = elem.getScreenCTM();\n\n    if (!matrix) {\n      throw new Error('Could not get matrix.');\n    }\n\n    return new Pt(\n      matrix.a * this[0] + matrix.c * this[1] + matrix.e - offset.left,\n      matrix.b * this[0] + matrix.d * this[1] + matrix.f - offset.top\n    );\n  }\n\n  toString(): string {\n    return this[0] + ',' + this[1];\n  }\n}\n","export interface IconDetails {\n  license: string;\n  source: string;\n  notes?: string;\n}\n\nexport const settings = {\n  dataPath:\n    'https://docs.google.com/spreadsheets/d/e/2PACX-1vT1vy5dt1_l8HA4YzuLgVlxHk9PKBoixjhq2nienetjJx9RhxKt8WYYmyG6kWaFsh6hQqKlDjoVY0d1/pub?gid=0&single=true&output=csv',\n  layout: {\n    minSkillLength: 45,\n    centerRadius: 12,\n    width: 1000,\n    skillWidth: 20,\n    skillMargin: 2,\n    initialCount: 4,\n  },\n  rings: {\n    lastMonthly: 24,\n    lastQuarterly: 48,\n  },\n  icons: new Map<string, IconDetails>([\n    [\n      'standing',\n      {\n        license: 'https://creativecommons.org/licenses/by/4.0/',\n        source: '<a href=\"fontawesome.io\">Dave Gandy</a>',\n      },\n    ],\n    [\n      'breastFeeding',\n      {\n        license: 'Public Domain',\n        source:\n          '<a href=\"https://thenounproject.com/edward\">Edward Boatman from Noun Project</a>',\n        notes: 'Removed fill color from original.',\n      },\n    ],\n    [\n      'crawling',\n      {\n        license: 'Creative Commons',\n        source:\n          '<a href=\"https://thenounproject.com/budhishakti17\">Ragal Kartidev from Noun Project</a>',\n      },\n    ],\n    [\n      'smiling',\n      {\n        license:\n          '<a href=\"https://www.freepikcompany.com/legal?&_ga=2.246028932.1853393565.1629660833-2034462439.1629502450#nav-flaticon\">Flaticon</a>',\n        source:\n          '<a href=\"https://www.freepik.com\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a>',\n      },\n    ],\n  ]),\n};\n","<template>\n  <component :is=\"dynamicIcon\" />\n</template>\n\n<script lang=\"ts\">\nimport { DefineComponent, defineAsyncComponent, defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'DynamicIcon',\n  props: {\n    icon: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    dynamicIcon() {\n      return defineAsyncComponent(\n        (): Promise<DefineComponent> =>\n          import(\n            /* webpackChunkName: \"icons\" */\n            /* webpackMode: \"lazy-once\" */\n            `@/icons/${this.icon}.svg`\n          )\n      );\n    },\n  },\n});\n</script>\n","\nimport { DefineComponent, defineAsyncComponent, defineComponent } from 'vue';\n\nexport default defineComponent({\n  name: 'DynamicIcon',\n  props: {\n    icon: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    dynamicIcon() {\n      return defineAsyncComponent(\n        (): Promise<DefineComponent> =>\n          import(\n            /* webpackChunkName: \"icons\" */\n            /* webpackMode: \"lazy-once\" */\n            `@/icons/${this.icon}.svg`\n          )\n      );\n    },\n  },\n});\n","import { render } from \"./SvgIcon.vue?vue&type=template&id=c82b2728\"\nimport script from \"./SvgIcon.vue?vue&type=script&lang=ts\"\nexport * from \"./SvgIcon.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { computed, defineComponent, PropType, ref } from 'vue';\nimport { Data } from './ts/model/Data';\nimport { Link } from './ts/model/Link';\nimport Pt from './ts/model/Pt';\nimport { Skill } from './ts/model/Skill';\nimport { settings } from './ts/settings';\nimport * as d3 from 'd3';\nimport { D3ZoomEvent, select } from 'd3';\nimport SvgIcon from './components/SvgIcon.vue';\n\nexport default defineComponent({\n  components: { SvgIcon },\n  setup(props) {\n    const graphSvg = ref<SVGSVGElement>();\n\n    const mainGroup = ref<SVGGElement>();\n    const drawingGroup = ref<SVGGElement>();\n\n    function setZoom(transform: d3.ZoomTransform): void {\n      console.log(`Transform: ${transform.toString()}`);\n\n      if (isNaN(transform.x) || isNaN(transform.y) || isNaN(transform.k)) {\n        return;\n      }\n\n      mainGroup.value?.setAttribute('transform', transform.toString());\n\n      mainGroup.value?.classList.toggle('detailed', transform.k > 4);\n    }\n\n    const width = computed(() => graphSvg.value?.clientWidth ?? 0);\n\n    const height = computed(() => graphSvg.value?.clientHeight ?? 0);\n\n    const drawingRadius = computed(() =>\n      props.data.tree.scale(props.data.tree.skillRange[1])\n    );\n\n    const maxCircleRadius = computed(() => {\n      let radius = drawingRadius.value * Math.SQRT2;\n\n      if (width.value && height.value) {\n        radius *= Math.max(\n          width.value / height.value,\n          height.value / width.value\n        );\n      }\n\n      return radius;\n    });\n\n    return {\n      graphSvg,\n      mainGroup,\n      drawingGroup,\n      scale: props.data.tree.scale,\n      settings,\n      zoom: d3\n        .zoom<SVGSVGElement, unknown>()\n        // .scaleExtent([0.8, 6])\n        // .translateExtent([\n        //   [-drawingRadius.value, -drawingRadius.value],\n        //   [drawingRadius.value * 2, drawingRadius.value * 2],\n        // ])\n        .on('zoom', (event: D3ZoomEvent<SVGSVGElement, unknown>) => {\n          setZoom(event.transform);\n        }),\n      width,\n      height,\n      drawingRadius,\n      maxCircleRadius,\n    };\n  },\n  props: {\n    data: {\n      type: Object as PropType<Data>,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      selection: undefined as Skill | undefined,\n    };\n  },\n  computed: {\n    gridLevels() {\n      return Array(Math.floor(this.scale.invert(this.maxCircleRadius)))\n        .fill(0)\n        .map((_, i) => i)\n        .filter(\n          (_, i) =>\n            !(i % 12 && i > settings.rings.lastQuarterly)\n            && !(i % 12 && i % 3 && i > settings.rings.lastMonthly)\n        );\n    },\n    maxYear() {\n      return Math.floor(this.data.tree.skillRange[1] / 12);\n    },\n    skillLengths() {\n      return new Set(\n        Object.values(this.data.tree.skills).map((s) => s.roundedLength)\n      );\n    },\n    innerHeight() {\n      return settings.layout.skillWidth - 2 * settings.layout.skillMargin;\n    },\n  },\n  async mounted() {\n    if (this.graphSvg) {\n      select(this.graphSvg).call(this.zoom);\n\n      this.zoomFit(false);\n    }\n  },\n  methods: {\n    tooltipTitle(skill: Skill) {\n      let title = `${skill.name}: `;\n\n      if (skill.actualEnd !== skill.start) {\n        const start = this.formatTime(skill.start);\n        const end = this.formatTime(skill.actualEnd);\n\n        if (start.unit !== end.unit) {\n          title += `${start.format} - ${end.format}`;\n        } else {\n          title += `${start.number} - ${end.number} ${start.unit}${this.plural(\n            end.number\n          )}`;\n        }\n      } else {\n        title += this.formatTime(skill.start).format;\n      }\n\n      return title;\n    },\n    formatTime(time: number) {\n      const result = {\n        number: time,\n        unit: 'month' as string | undefined,\n      };\n\n      if (time % 12 === 0) {\n        result.number = time / 12;\n        result.unit = 'year';\n      }\n\n      if (time == 0) {\n        result.unit = undefined;\n\n        return { ...result, format: 'birth' };\n      }\n\n      return {\n        ...result,\n        format: `${result.number} ${result.unit}${this.plural(result.number)}`,\n      };\n    },\n    plural(num: number) {\n      if (num === 1) {\n        return '';\n      } else {\n        return 's';\n      }\n    },\n    select(skill: Skill | undefined, event: Event): void {\n      if (skill?.id === this.selection?.id) {\n        this.selection = undefined;\n      } else {\n        this.selection = skill;\n      }\n\n      this.graphSvg\n        ?.querySelectorAll('.skill')\n        .forEach((s) =>\n          s.classList.toggle('selected', s.id === this.selection?.id)\n        );\n\n      event.stopPropagation();\n    },\n    linkLine(link: Link) {\n      const start = Pt.fromPolar(\n        link.source.barRanges.total.end,\n        (link.source.angle * Math.PI) / 180\n      );\n      const end = Pt.fromPolar(\n        link.target.barRanges.total.start,\n        (link.target.angle * Math.PI) / 180\n      );\n\n      return {\n        x1: start[0],\n        x2: end[0],\n        y1: start[1],\n        y2: end[1],\n      };\n    },\n    skillOutlineId(length: number): string {\n      return `skillOutline-${length.toString().replace('.', '-')}`;\n    },\n    innerTransform(skill: Skill): string {\n      if (skill.reversed) {\n        return `rotate(180) translate(${-skill.barRanges.total.end})`;\n      } else {\n        return `translate(${skill.barRanges.total.start})`;\n      }\n    },\n    iconAttributes(skill: Skill) {\n      return {\n        y: -this.innerHeight / 2,\n        x: skill.reversed\n          ? skill.barRanges.total.length\n            - settings.layout.skillMargin\n            - this.innerHeight\n          : settings.layout.skillMargin,\n        height: this.innerHeight,\n        width: this.innerHeight,\n      };\n    },\n    zoomFit(animate = true, paddingPercent = 0.85): void {\n      const bounds = this.drawingGroup?.getBBox();\n      const fullWidth = this.graphSvg?.clientWidth,\n        fullHeight = this.graphSvg?.clientHeight;\n\n      if (!bounds || !fullWidth || !fullHeight) {\n        throw new Error('Nodes not found.');\n      }\n\n      const width = bounds.width,\n        height = bounds.height;\n\n      const midX = bounds.x + width / 2,\n        midY = bounds.y + height / 2;\n\n      if (width == 0 || height == 0) return; // nothing to fit\n\n      const scale =\n        paddingPercent / Math.max(width / fullWidth, height / fullHeight);\n      const translate: [number, number] = [-midX, -midY];\n\n      console.debug('zoomFit', translate, scale);\n\n      if (this.graphSvg) {\n        if (animate) {\n          select(this.graphSvg)\n            .transition()\n            .duration(750)\n            .call(\n              this.zoom.transform,\n              d3.zoomIdentity\n                .translate(fullWidth / 2, fullHeight / 2)\n                .scale(scale)\n                .translate(...translate)\n            );\n        } else {\n          select(this.graphSvg).call(\n            this.zoom.transform,\n            d3.zoomIdentity\n              .translate(fullWidth / 2, fullHeight / 2)\n              .scale(scale)\n              .translate(...translate)\n          );\n        }\n      }\n    },\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=573f2f47\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=573f2f47&lang=scss\"\nscript.render = render\n\nexport default script","import Pt from './Pt';\nimport { settings, IconDetails } from '../settings';\nimport { Link } from './Link';\n\ninterface RangeSegment {\n  start: number;\n  length: number;\n  end: number;\n}\n\nexport class Skill {\n  angle!: number;\n\n  id!: string;\n\n  notes?: string;\n  reference?: string;\n  complete?: boolean;\n  start!: number;\n  maxStart?: number;\n  end?: number;\n  maxEnd?: number;\n  prerequisites?: string;\n  name!: string;\n  type!: string;\n  series?: string;\n  icon?: string;\n\n  iconDetails?: IconDetails;\n\n  parents: Link[] = [];\n  children: Link[] = [];\n\n  nodeType = 'Skill';\n\n  barRanges!: {\n    start?: RangeSegment;\n    main?: RangeSegment;\n    end?: RangeSegment;\n    total: RangeSegment;\n  };\n\n  get actualEnd(): number {\n    return this.maxEnd ?? this.end ?? this.maxStart ?? this.start;\n  }\n\n  get roundedLength(): number {\n    return Math.round(this.barRanges.total.length * 100) / 100;\n  }\n\n  get reversed(): boolean {\n    return (this.angle + 90) % 360 > 180;\n  }\n\n  getIconDetails(): void {\n    if (this.icon) {\n      this.iconDetails = settings.icons.get(this.icon);\n    }\n  }\n\n  toString(): string {\n    return `Skill: ${this.name} (${this.id})\n  ${this.type}\n  ${this.start} - ${this.actualEnd}`;\n  }\n\n  makeBarRange(\n    scale: d3.ScaleContinuousNumeric<number, number>,\n    start: number,\n    end: number\n  ): RangeSegment {\n    return {\n      start: scale(start),\n      length: scale(end) - scale(start),\n      end: scale(end),\n    };\n  }\n\n  setRanges(scale: d3.ScaleContinuousNumeric<number, number>): void {\n    let visualEnd = this.actualEnd;\n\n    if (scale(visualEnd) - scale(this.start) < settings.layout.minSkillLength) {\n      visualEnd = scale.invert(\n        scale(this.start) + settings.layout.minSkillLength\n      );\n    }\n\n    this.barRanges = {\n      total: this.makeBarRange(scale, this.start, visualEnd),\n    };\n\n    if (this.end) {\n      this.barRanges.main = this.makeBarRange(\n        scale,\n        this.maxStart ?? this.start,\n        this.end\n      );\n    }\n\n    if (this.maxStart) {\n      this.barRanges.start = this.makeBarRange(\n        scale,\n        this.start,\n        this.maxStart\n      );\n    }\n\n    if (this.maxEnd && this.end) {\n      this.barRanges.end = this.makeBarRange(scale, this.end, this.maxEnd);\n    }\n  }\n\n  // path generator for arcs\n  static arc(\n    start: number,\n    end: number,\n    radius: number,\n    scale: d3.ScaleTime<number, number>\n  ): string {\n    //keep text upright\n    if (start % 360 <= 180) {\n      [start, end] = [end, start];\n    }\n\n    let dTheta = end - start;\n\n    dTheta += dTheta > 180 ? -360 : dTheta < -180 ? 360 : 0;\n\n    const largeArc = Math.abs(dTheta) > 180 ? 1 : 0,\n      sweep = dTheta > 0 ? 1 : 0,\n      r = scale(radius);\n\n    return (\n      'M'\n      + new Pt(r, (start * Math.PI) / 180).fromPolar().toString()\n      + 'A'\n      + r\n      + ','\n      + r\n      + ' 0 '\n      + largeArc\n      + ','\n      + sweep\n      + ' '\n      + new Pt(r, (end * Math.PI) / 180).fromPolar().toString()\n    );\n  }\n}\n","import { settings } from '../settings';\n\nimport * as d3 from 'd3';\nimport { scalePow } from 'd3-scale';\nimport { Skill } from './Skill';\nimport { Link } from './Link';\n\ndeclare module 'd3' {\n  export function autoType<R extends Record<string, unknown>, T extends string>(\n    rawRow: d3.DSVRowString<T>,\n    index: number,\n    columns: T[]\n  ): R | undefined | null;\n}\n\nexport class Data {\n  tree!: Tree;\n\n  async parseData(csvFile: string): Promise<void> {\n    const skills = await d3.csv<Skill, string>(\n      csvFile,\n      (rawRow: d3.DSVRowString<string>, index: number, columns: string[]) =>\n        Object.assign(new Skill(), d3.autoType(rawRow, index, columns))\n    );\n\n    this.tree = new Tree(skills);\n\n    this.tree.nodeList = <Skill[]>Object.values(this.tree.skills);\n  }\n}\n\nexport class Tree {\n  scale: d3.ScaleContinuousNumeric<number, number>;\n  skills: { [id: string]: Skill } = {};\n  links: Link[] = [];\n  nodeList: Skill[] = [];\n  types: Map<string, Skill[]> = new Map<string, Skill[]>();\n  lanes: Map<number, Skill[]> = new Map<number, Skill[]>();\n  skillRange: [number, number];\n\n  constructor(skills: Skill[]) {\n    const sortedSkills = skills.slice().sort((a, b) => a.start - b.start);\n\n    const typeNames = new Set(sortedSkills.map((s) => s.type));\n    const typesCount = typeNames.size;\n\n    this.skillRange = sortedSkills.reduce(\n      (prev, curr) => [\n        Math.min(prev[0], curr.start),\n        Math.max(prev[1], curr.actualEnd),\n      ],\n      [sortedSkills[0].start, 0]\n    );\n\n    this.scale = scalePow()\n      .domain([0, this.skillRange[1]])\n      .range([settings.layout.centerRadius, settings.layout.width / 2])\n      .exponent(0.5);\n\n    for (const skill of sortedSkills) {\n      skill.setRanges(this.scale);\n\n      if (skill.icon) {\n        skill.getIconDetails();\n      }\n\n      if (skill.prerequisites) {\n        skill.parents = skill.prerequisites\n          .split(',')\n          .map((prereq) => ({ source: this.skills[prereq], target: skill }));\n\n        for (const link of skill.parents) {\n          this.links.push(link);\n\n          link.source.children.push(link);\n        }\n\n        skill.angle = skill.parents[0].source.angle;\n      }\n\n      let type = this.types.get(skill.type);\n\n      if (!type) {\n        if (skill.angle === undefined) {\n          skill.angle = (360 / typesCount) * this.types.size;\n        }\n\n        type = [];\n        this.types.set(skill.type, type);\n      } else if (skill.angle === undefined) {\n        skill.angle = type[0].angle;\n      }\n\n      this.addToLane(skill);\n\n      type.push(skill);\n\n      this.skills[skill.id] = skill;\n    }\n  }\n\n  addToLane(skill: Skill): void {\n    // Available lanes, ordered by distance from target.\n    const laneAngles = this.lanesAtRadius(skill.barRanges.total.start).sort(\n      (a, b) => {\n        const aDiff = Math.abs(a - skill.angle);\n        const bDiff = Math.abs(b - skill.angle);\n\n        return aDiff - bDiff;\n      }\n    );\n\n    for (const angle of laneAngles) {\n      let lane = this.lanes.get(angle);\n\n      if (!lane) {\n        lane = [];\n        this.lanes.set(angle, lane);\n      }\n\n      if (\n        !lane.length\n        || lane[lane.length - 1].barRanges.total.end\n          + settings.layout.skillMargin\n          <= skill.barRanges.total.start\n      ) {\n        skill.angle = angle;\n        lane.push(skill);\n\n        console.log(`Added ${skill.id} to ${skill.angle}.`);\n        return;\n      }\n    }\n\n    console.warn(`Could not find an open lane for skill: ${skill}.`);\n  }\n\n  closest(needle: number, haystack: number[]): number {\n    return haystack.reduce((a, b) => {\n      const aDiff = Math.abs(a - needle);\n      const bDiff = Math.abs(b - needle);\n\n      if (aDiff == bDiff) {\n        return a > b ? a : b;\n      } else {\n        return bDiff < aDiff ? b : a;\n      }\n    });\n  }\n\n  lanesAtRadius(radius: number): number[] {\n    const maxCount = Math.floor(\n      (Math.PI * 2 * radius)\n        / (settings.layout.skillWidth + settings.layout.skillMargin)\n    );\n\n    const ring = Math.max(\n      0,\n      Math.floor(Math.log2(maxCount) - Math.log2(settings.layout.initialCount))\n    );\n\n    const count = settings.layout.initialCount * Math.pow(2, ring);\n\n    return Array(count)\n      .fill(0)\n      .map((v, i) => (i * 360) / count);\n  }\n}\n","import { createApp } from 'vue';\nimport App from './App.vue';\nimport { Data } from './ts/model/Data';\nimport { settings } from './ts/settings';\n\n(async () => {\n  const data = new Data();\n\n  await data.parseData(settings.dataPath);\n\n  createApp(App, { data }).mount('#app');\n})();\n"],"sourceRoot":""}